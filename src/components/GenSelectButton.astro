---
const { id, listStart, listEnd, isChecked } = Astro.props;
---

<input
	type="radio"
	class="gen-select__button"
	name="gen"
	id={`gen-${id}`}
	value={id}
	checked={isChecked}
	onclick=`console.log("clicked")`
/>
<style is:global>
	.gen-select__button {
		position: relative;
		--_width: 35px;
		width: var(--_width);
		height: var(--_width);
		aspect-ratio: 1;
		background: transparent;
		border: none;
		cursor: pointer;
		transition:
			margin-right 0.2s ease-in-out,
			scale 0.2s ease-in-out;
		transform-origin: center left;

		&:is(:hover, :focus-visible, :checked) {
			scale: 1.5;
			margin-right: 20px;
			outline: none;
		}
		&:checked::after {
			border: 5px solid transparent;
			border-top: 2px solid #000000aa;
			border-bottom: 2px solid #000000aa;
			scale: 1.3;
			animation: rotation 700ms cubic-bezier(0.82, 0.22, 0.49, 0.61) infinite;
		}
		&::before,
		&::after {
			position: absolute;
			content: "";
			inset: 0;
			aspect-ratio: 1;
			border-radius: 100vw;
			--gradient-3-versions: linear-gradient(
				120deg,
				var(--color-version-1) 40%,
				var(--color-version-2) 40% 60%,
				var(--color-version-3) 60%
			);
			--gradient-2-versions: linear-gradient(
				120deg,
				var(--color-version-1) 50%,
				var(--color-version-2) 50%
			);
		}
	}

	@media (width < 992px) {
		.gen-select__button {
			transform-origin: top center;
			transition:
				margin-bottom 0.2s ease-in-out,
				scale 0.2s ease-in-out;

			&:is(:hover, :focus-visible) {
				z-index: 20;
			}
			&:is(:hover, :focus-visible, :checked) {
				margin-bottom: 20px;
				margin-right: 0;
			}
		}
	}
	.gen-select__button {
		/* Gen 1 */
		&#gen-1::before {
			--color-version-1: #e23a19;
			--color-version-2: #e5c31a;
			--color-version-3: #3971da;
			background-image: var(--gradient-3-versions);
		}
		/* Gen 2 */
		&#gen-2::before {
			--color-version-1: #f6c422;
			--color-version-2: #6f55e3;
			--color-version-3: #abb4c9;
			background-image: var(--gradient-3-versions);
		}
		/* Gen 3 */
		&#gen-3::before {
			--color-version-1: #e54830;
			--color-version-2: #37dd2b;
			--color-version-3: #0070b7;
			background-image: var(--gradient-3-versions);
		}
		/* Gen 4 */
		&#gen-4::before {
			--color-version-1: #97d7e3;
			--color-version-2: #303336;
			--color-version-3: #bd56b7;
			background-image: var(--gradient-3-versions);
		}
		/* Gen 5 */
		&#gen-5::before {
			--color-version-1: #f0f6f4;
			--color-version-2: #272524;
			background-image: var(--gradient-2-versions);
		}
		/* Gen 6 */
		&#gen-6::before {
			--color-version-1: #f1a9c6;
			--color-version-2: #221717;
			background-image: var(--gradient-2-versions);
		}
		/* Gen 7 */
		&#gen-7::before {
			--color-version-1: #ff9f31;
			--color-version-2: #4f3f9e;
			background-image: var(--gradient-2-versions);
		}
		/* Gen 8 */
		&#gen-8::before {
			--color-version-1: #02acee;
			--color-version-2: #ed0e65;
			background-image: var(--gradient-2-versions);
		}
		/* Gen 9 */
		&#gen-9::before {
			--color-version-1: #eb3b4f;
			--color-version-2: #781984;
			background-image: var(--gradient-2-versions);
		}
		/* Formes Alt */
		&#gen-alt {
			/* visibility: hidden; */

			&::before {
				background-image: radial-gradient(
						white 21%,
						black 21% 25%,
						transparent 25%
					),
					linear-gradient(
						red 41%,
						black 41% 44%,
						white 44% 56%,
						black 56% 59%,
						white 59%
					);
			}
		}
	}
	@keyframes rotation {
		to {
			rotate: 360deg;
		}
	}
</style>

<script></script>
